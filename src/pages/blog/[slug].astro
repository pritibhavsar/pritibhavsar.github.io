---
import { getCollection } from "astro:content";
import Newsletterbox from '../../components/Newsletterbox.astro';
import PopularArticles from '../../components/PopularArticles.astro';
import Layout from "../../layouts/Layout.astro";
import RelatedArticles from "../../components/RelatedArticles.astro";import PostStandard from '../../components/blog/PostStandard.astro';
import PostOther from '../../components/blog/PostOther.astro';
import PostDefault from '../../components/blog/PostDefault.astro';
// Generate a new path for every collection entry
export async function getStaticPaths() {
  // collections are not typed in this project; cast getCollection to any to avoid "never" errors
  const blogEntries: any[] = await (getCollection as any)("blog");
  return blogEntries.map((entry: any) => ({
    params: { slug: entry.slug },
    props: { entry },
    template: entry.data.template || null,
    
  }));
}

// Get the entry directly from the prop on render
const { entry } = Astro.props;
const { Content } = await entry.render();
---

{entry.data.template === "standard" ? (
  <PostStandard entry={entry} />
) : entry.data.template === "other" ? (
  <PostOther entry={entry} Content={Content} />
) : (
  <PostDefault entry={entry} />
)}
